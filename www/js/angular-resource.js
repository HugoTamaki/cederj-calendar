!function(e,r){"use strict";function t(e){return null!=e&&""!==e&&"hasOwnProperty"!==e&&s.test("."+e)}function a(e,a){if(!t(a))throw o("badmember",'Dotted member path "@{0}" is invalid.',a);for(var n=a.split("."),s=0,i=n.length;s<i&&r.isDefined(e);s++){var u=n[s];e=null!==e?e[u]:void 0}return e}function n(e,t){t=t||{},r.forEach(t,function(e,r){delete t[r]});for(var a in e)!e.hasOwnProperty(a)||"$"===a.charAt(0)&&"$"===a.charAt(1)||(t[a]=e[a]);return t}var o=r.$$minErr("$resource"),s=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;r.module("ngResource",["ng"]).provider("$resource",function(){var e=this;this.defaults={stripTrailingSlashes:!0,cancellable:!1,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},delete:{method:"DELETE"}}},this.$get=["$http","$log","$q","$timeout",function(t,s,i,u){function c(e){return l(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function l(e,r){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,r?"%20":"+")}function p(r,t){this.template=r,this.defaults=m({},e.defaults,t),this.urlParams={}}function f(r,c,l,y){function E(e,r){var t={};return r=m({},c,r),h(r,function(r,n){b(r)&&(r=r(e)),t[n]=r&&r.charAt&&"@"===r.charAt(0)?a(e,r.substr(1)):r}),t}function P(e){return e.resource}function A(e){n(e||{},this)}var R=new p(r,y);return l=m({},e.defaults.actions,l),A.prototype.toJSON=function(){var e=m({},this);return delete e.$promise,delete e.$resolved,delete e.$cancelRequest,e},h(l,function(e,r){var a=/^(POST|PUT|PATCH)$/i.test(e.method),c=e.timeout,l=v(e.cancellable)?e.cancellable:R.defaults.cancellable;c&&!w(c)&&(s.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests. If you are looking for a way to cancel requests, you should use the `cancellable` option."),delete e.timeout,c=null),A[r]=function(s,p,f,v){var w,y,T,x={};switch(arguments.length){case 4:T=v,y=f;case 3:case 2:if(!b(p)){x=s,w=p,y=f;break}if(b(s)){y=s,T=p;break}y=p,T=f;case 1:b(s)?y=s:a?w=s:x=s;break;case 0:break;default:throw o("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var O,q,k=this instanceof A,D=k?w:e.isArray?[]:new A(w),S={},W=e.interceptor&&e.interceptor.response||P,j=e.interceptor&&e.interceptor.responseError||void 0;h(e,function(e,r){switch(r){default:S[r]=g(e);break;case"params":case"isArray":case"interceptor":case"cancellable":}}),!k&&l&&(O=i.defer(),S.timeout=O.promise,c&&(q=u(O.resolve,c))),a&&(S.data=w),R.setUrlParams(S,m({},E(w,e.params||{}),x),e.url);var U=t(S).then(function(t){var a=t.data;if(a){if($(a)!==!!e.isArray)throw o("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})",r,e.isArray?"array":"object",$(a)?"array":"object",S.method,S.url);if(e.isArray)D.length=0,h(a,function(e){"object"==typeof e?D.push(new A(e)):D.push(e)});else{var s=D.$promise;n(a,D),D.$promise=s}}return t.resource=D,t},function(e){return(T||d)(e),i.reject(e)});return U.finally(function(){D.$resolved=!0,!k&&l&&(D.$cancelRequest=d,u.cancel(q),O=q=S.timeout=null)}),U=U.then(function(e){var r=W(e);return(y||d)(r,e.headers,e.status,e.statusText),r},j),k?U:(D.$promise=U,D.$resolved=!1,l&&(D.$cancelRequest=O.resolve),D)},A.prototype["$"+r]=function(e,t,a){b(e)&&(a=t,t=e,e={});var n=A[r].call(this,e,this,t,a);return n.$promise||n}}),A.bind=function(e){return f(r,m({},c,e),l,y)},A}var d=r.noop,h=r.forEach,m=r.extend,g=r.copy,$=r.isArray,v=r.isDefined,b=r.isFunction,w=r.isNumber;return p.prototype={setUrlParams:function(e,r,t){var a,n,s=this,i=t||s.template,u="",p=s.urlParams={};h(i.split(/\W/),function(e){if("hasOwnProperty"===e)throw o("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(e)&&e&&new RegExp("(^|[^\\\\]):"+e+"(\\W|$)").test(i)&&(p[e]={isQueryParamValue:new RegExp("\\?.*=:"+e+"(?:\\W|$)").test(i)})}),i=i.replace(/\\:/g,":"),i=i.replace(/^https?:\/\/[^\/]*/,function(e){return u=e,""}),r=r||{},h(s.urlParams,function(e,t){a=r.hasOwnProperty(t)?r[t]:s.defaults[t],v(a)&&null!==a?(n=e.isQueryParamValue?l(a,!0):c(a),i=i.replace(new RegExp(":"+t+"(\\W|$)","g"),function(e,r){return n+r})):i=i.replace(new RegExp("(/?):"+t+"(\\W|$)","g"),function(e,r,t){return"/"===t.charAt(0)?t:r+t})}),s.defaults.stripTrailingSlashes&&(i=i.replace(/\/+$/,"")||"/"),i=i.replace(/\/\.(?=\w+($|\?))/,"."),e.url=u+i.replace(/\/\\\./,"/."),h(r,function(r,t){s.urlParams[t]||(e.params=e.params||{},e.params[t]=r)})}},f}]})}(window,window.angular);